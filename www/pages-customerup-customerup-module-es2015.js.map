{"version":3,"sources":["./src/app/pages/customerup/customerup.page.html","./src/app/pages/customerup/customerup-routing.module.ts","./src/app/pages/customerup/customerup.module.ts","./src/app/pages/customerup/customerup.page.scss","./src/app/pages/customerup/customerup.page.ts"],"names":[],"mappings":"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","file":"pages-customerup-customerup-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-center\\\">Mi Cuenta</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content  id=\\\"signup\\\" fullscreen  class=\\\"backgeneral\\\">\\n  <div class=\\\"section_two ion-padding\\\">\\n  <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"tryRegister(form.value)\\\">\\n    <ion-progress-bar *ngIf=\\\"working\\\" color=\\\"secondary\\\" type=\\\"indeterminate\\\"></ion-progress-bar>\\n    <input type=\\\"hidden\\\" formControlName=\\\"id\\\">\\n    <input type=\\\"hidden\\\" formControlName=\\\"userId\\\">\\n         <ion-item class=\\\"itemcolor1\\\">\\n            <ion-input formControlName=\\\"name\\\" type=\\\"text\\\" placeholder=\\\"Nombres\\\"  required></ion-input>\\n          </ion-item>\\n\\n          <ion-item class=\\\"itemcolor1\\\">\\n            <ion-input formControlName=\\\"phone\\\"  type=\\\"text\\\" placeholder=\\\"Teléfono\\\"  required></ion-input>\\n          </ion-item>\\n              \\n            <ion-item class=\\\"itemcolor1\\\">\\n              <ion-input formControlName=\\\"email\\\" readonly=\\\"readonly\\\" type=\\\"text\\\" placeholder=\\\"Correo\\\"  required></ion-input>\\n            </ion-item> \\n\\n          <div class=\\\"buttons ion-padding-top\\\">\\n            <ion-button expand=\\\"block\\\" color=\\\"secondary\\\"  shape=\\\"round\\\" type=\\\"submit\\\" [disabled]=\\\"form.invalid\\\" >Actualizar</ion-button>\\n          </div>\\n  </form>\\n</div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CustomerupPage } from './customerup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CustomerupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CustomerupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CustomerupPageRoutingModule } from './customerup-routing.module';\n\nimport { CustomerupPage } from './customerup.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    CustomerupPageRoutingModule\n  ],\n  declarations: [CustomerupPage]\n})\nexport class CustomerupPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2N1c3RvbWVydXAvY3VzdG9tZXJ1cC5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../../services/api.service';\nimport { Router} from '@angular/router';\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\nimport { BusyService } from '../../services/busy.service';\n\n@Component({\n  selector: 'app-customerup',\n  templateUrl: './customerup.page.html',\n  styleUrls: ['./customerup.page.scss'],\n})\nexport class CustomerupPage implements OnInit {\n\n  errorMessage: string = '';\n  successMessage: string = '';\n  form : FormGroup;\n  working:boolean;\n  userinfo:any;\n  constructor(private router:Router,private apiService:ApiService,\n    private formBuilder: FormBuilder,private busyService:BusyService) { \n      this.form = this.formBuilder.group({\n        email: ['' , [Validators.required]],\n        id: ['', [Validators.required]],\n        userId: ['', [Validators.required]],\n        name: ['', { \n          required: false,\n        }],\n        phone: [''],\n      },);\n    }\n\n  ngOnInit() {\n   \n  }\n  \n  ionViewWillEnter(){\n    this.userinfo= JSON.parse(window.localStorage.getItem(\"userinfo\"));\n    this.getdata();\n  }\n  getdata(){\n    this.working=true;\n    this.apiService.Get(\"Customers/CustomerUser/\"+this.userinfo.id ).then(res=>{\n      this.working=false;\n       this.form.get(\"email\").setValue(res.email);\n       this.form.get(\"name\").setValue(res.name);\n       this.form.get(\"phone\").setValue(res.phone);\n       this.form.get(\"userId\").setValue(res.userId);\n       this.form.get(\"id\").setValue(res.id);  \n    }, err => {\n      this.working=false;\n       this.errorMessage = err.message;\n         this.busyService.presentAlert(\"¡Información!\",\"Error al consultar información de su cuenta\");\n     });\n  }\n  async tryRegister(form){\n   \n    this.working=true;\n    this.apiService.Put(form,\"Customers/\" + form.id)\n     .then(res => {\n      this.working=false;\n       this.errorMessage = \"\";     \n        this.busyService.presentAlert(\"¡Información!\",\"Cuenta Actualizada Exitosamente\");\n        this.getdata();\n     }, err => {\n      this.working=false;\n       this.errorMessage = err.message;\n         this.busyService.presentAlert(\"¡Información!\",\"No fue posible crear la cuenta\");\n     })\n  }\n\n}\n"],"sourceRoot":"webpack:///"}