{"version":3,"sources":["./src/app/pages/response/response.page.html","./src/app/pages/response/response-routing.module.ts","./src/app/pages/response/response.module.ts","./src/app/pages/response/response.page.scss","./src/app/pages/response/response.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,0SAA2O,iBAAiB,mBAAmB,yQAAyQ,iBAAiB,sBAAsB,kDAAkD,sFAAsF,2GAA2G,iBAAiB,mBAAmB,eAAe,oCAAoC,qMAAqM,gQAAgQ,mBAAmB,KAAK,4CAA4C,wQAAwQ,mBAAmB,KAAK,6CAA6C,uVAAuV,MAAM,06CAA06C,E;;;;;;;;;;;;;;;;;;;ACA58G;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAY;KACxB;CACF,CAAC;AAMF,IAAa,yBAAyB,GAAtC,MAAa,yBAAyB;CAAG;AAA5B,yBAAyB;IAJrC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBG;AACM;AACF;AAEA;AAEyB;AAEvB;AAY/C,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;CAAG;AAArB,kBAAkB;IAT9B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,kFAAyB;SAC1B;QACD,YAAY,EAAE,CAAC,2DAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;ACpB/B;AAAe,6GAA8C,mJAAmJ,E;;;;;;;;;;;;;;;;;;;;;;ACA9J;AACM;AACE;AACO;AACxB;AACuB;AAahE,IAAa,YAAY,GAAzB,MAAa,YAAY;IAiBvB,YAAoB,UAAqB,EAAQ,WAAuB,EAAQ,MAAa;QAAzE,eAAU,GAAV,UAAU,CAAW;QAAQ,gBAAW,GAAX,WAAW,CAAY;QAAQ,WAAM,GAAN,MAAM,CAAO;QAhB7F,UAAK,GAAK,EAAE,CAAC;QACb,WAAM,GAAQ,IAAI,CAAC;QACnB,gBAAW,GAAQ,IAAI,CAAC;QACxB,SAAI,GAAM,IAAI,CAAC;QACf,SAAI,GAAQ,IAAI,CAAC;QACjB,iBAAY,GAAQ,IAAI,CAAC;QACzB,WAAM,GAAQ,IAAI,CAAC;QACnB,YAAO,GAAS,KAAK,CAAC;QACtB,aAAQ,GAAQ,EAAE,CAAC;QACnB,YAAO,GAAQ,EAAE,CAAC;QAClB,SAAI,GAAQ,CAAC,CAAC;QACd,aAAQ,GAAQ,EAAE,CAAC;QACnB,cAAS,GAAQ,EAAE,CAAC;QACpB,YAAO,GAAQ,EAAE,CAAC;QAClB,eAAU,GAAK,IAAI,CAAC;QACpB,cAAS,GAAQ,EAAE,CAAC;IAC6E,CAAC;IAElG,QAAQ;IACR,CAAC;IAED,gBAAgB;QAGd,IAAI,CAAC,YAAY,GAAE,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;QAC/D,IAAI,CAAC,UAAU,GAAE,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QAC3D,IAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,IAAE,IAAI,EAClD;YACC,IAAI,CAAC,OAAO,EAAE,CAAC;SACf;aAED;YACE,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC;YACjB,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC;YACtB,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC;YACf,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC;YACf,IAAI,CAAC,QAAQ,GAAC,EAAE,CAAC;YACjB,IAAI,CAAC,OAAO,GAAC,EAAE,CAAC;YAChB,IAAI,CAAC,QAAQ,GAAE,IAAI,CAAC;YACpB,IAAI,CAAC,SAAS,GAAE,IAAI,CAAC;YACrB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;SACnE;QAED,IAAG,IAAI,CAAC,SAAS,IAAI,GAAG,EAAE;YACxB,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,EAAC,4BAA4B,CAAC,CAAC;SAC7E;IAEF,CAAC;IACD,gBAAgB;QACf,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;IAC9C,CAAC;IACD,OAAO;QACL,IAAI,CAAC,OAAO,GAAC,qEAAW,CAAC,OAAO,GAAG,gBAAgB,CAAC;QACnD,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC;QAClB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,GAAE,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,GAAE;YACvF,IAAI,CAAC,OAAO,GAAC,KAAK,CAAC;YACnB,IAAI,GAAG,CAAC,OAAO,IAAE,IAAI,IAAK,GAAG,CAAC,OAAO,IAAE,EAAE,EACzC;gBACE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,GAAI,GAAG,CAAC,OAAO,CAAC;aAC5C;YACD,IAAI,CAAC,MAAM,GAAC,GAAG,CAAC,MAAM,CAAC;YACvB,IAAI,CAAC,WAAW,GAAC,GAAG,CAAC,WAAW,CAAC;YACjC,IAAG,GAAG,CAAC,IAAI,IAAE,IAAI,IAAI,GAAG,CAAC,IAAI,IAAG,MAAM,EACtC;gBACE,IAAI,CAAC,IAAI,GAAC,EAAE,CAAC;aACd;iBAED;gBACE,IAAI,CAAC,IAAI,GAAC,GAAG,CAAC,IAAI,CAAC;aACpB;YACD,IAAI,CAAC,QAAQ,GAAC,GAAG,CAAC,QAAQ,CAAC;YAC3B,IAAI,CAAC,QAAQ,GAAE,IAAI,CAAC,MAAM,CAAC;YAC3B,IAAI,CAAC,SAAS,GAAE,IAAI,CAAC,WAAW,CAAC;QACnC,CAAC,EAAC,GAAG,GAAE;YACL,IAAI,CAAC,OAAO,GAAC,KAAK,CAAC;QACrB,CAAC,CAAC,CAAC;IACJ,CAAC;IACJ,UAAU;QAER,IAAI,CAAC,QAAQ,GAAE,IAAI,CAAC,MAAM,CAAC;IAC7B,CAAC;IACD,WAAW;QAET,IAAI,CAAC,SAAS,GAAE,IAAI,CAAC,WAAW,CAAC;IACnC,CAAC;IACD,GAAG,CAAC,KAAK;QAEP,IAAI,CAAC,IAAI,GAAC,KAAK,CAAC,MAAM,CAAC;IACzB,CAAC;IAEM,IAAI;;YACT,IAAG,IAAI,CAAC,MAAM,IAAE,IAAI,EACpB;gBACE,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,EAAC,uDAAuD,CAAC,CAAC;gBAC9G,OAAO;aACP;YACD,IAAG,IAAI,CAAC,WAAW,IAAE,IAAI,EACzB;gBACE,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC,MAAM,CAAC;aAC9B;YACD,IAAG,QAAQ,CAAE,IAAI,CAAC,WAAW,CAAC,GAAC,QAAQ,CAAE,IAAI,CAAC,MAAM,CAAC,EACrD;gBACE,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,EAAC,+EAA+E,CAAC,CAAC;gBACtI,OAAO;aACP;YACF,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC;YAClB,IAAI,QAAQ,GAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;YACjE,IAAI,WAAW,GAAE,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAM,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;YACtH,IAAI,QAAQ,GAAE,IAAI,QAAQ,EAAE,CAAC;YAC7B,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACrC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YACtC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAClD,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAChD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACtC,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1C,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAC,WAAW,CAAC,CAAC;YAC1C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,kBAAkB,EAAC,QAAQ,CAAC,CAAC,SAAS,CAC5D,KAAK,CAAC,EAAE;gBACN,IAAI,KAAK,CAAC,IAAI,IAAI,kEAAa,CAAC,cAAc,EAAE;oBAC9C,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;iBAClE;qBAAM,IAAI,KAAK,YAAY,iEAAY,EAAE;oBACxC,IAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAC;wBACf,IAAI,CAAC,OAAO,GAAC,KAAK,CAAC;wBACnB,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,EAAC,mBAAmB,CAAC,CAAC;wBACnE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;qBACvC;yBAAI;wBACH,IAAI,CAAC,OAAO,GAAC,KAAK,CAAC;wBACnB,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,EAAC,sBAAsB,CAAC,CAAC;qBACvE;iBACF;YACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,OAAO,GAAC,KAAK,CAAC;gBACnB,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,EAAC,2BAA2B,CAAC,CAAC;YAC7E,CAAC,EAAE,GAAG,EAAE;YACR,CAAC,CACF,CAAC;QACF,CAAC;KAAA;IACD,QAAQ;QACN,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC5C,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC;QACpB,KAAK,CAAC,QAAQ,GAAG,CAAC,KAAS,EAAE,EAAE;YAC/B,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE;gBACnC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,EAAC,kCAAkC,CAAC,CAAC;gBAClF,OAAM;aAEP;YACD,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,CAAC,CAAC;QACF,KAAK,CAAC,KAAK,EAAE,CAAC;IACd,CAAC;IACD,OAAO,CAAC,KAAK,EAAC,IAAI;QAChB,wBAAwB;QACxB,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;QAC9B,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;QAE1D,+DAA+D;QAC/D,MAAM,CAAC,MAAM,GAAG,CAAC,KAAU,EAAE,EAAE;YAC7B,IAAI,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,uBAAuB;YAC1D,IAAI,CAAC,OAAO,GAAI,OAAO,CAAE;QAC3B,CAAC;IAEH,CAAC;IACD,QAAQ;QACR,IAAI,CAAC,OAAO,GAAC,EAAE,CAAC;QAChB,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC;IACf,CAAC;IAEK,KAAK;;YACT,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,EAAC,mDAAmD,CAAC,CAAC;QAC3G,CAAC;KAAA;CACA;;YA7JgC,gEAAU;YAAoB,kEAAW;YAAe,sDAAM;;AAjBlF,YAAY;IALxB,+DAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,gOAAmC;;KAEpC,CAAC;GACW,YAAY,CA8KxB;AA9KwB","file":"pages-response-response-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"secondary\\\" >\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"ion-text-center\\\">\\r\\n      <p style=\\\"color: white; font-size: 16px; font-weight: bold;\\\" >RESPUESTA SOLICITUD</p>\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"backgeneral\\\">\\r\\n  <ion-row class=\\\"ion-align-items-center\\\">\\r\\n    <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n      <p style=\\\"color: yellow; font-size: 16px; font-weight: lighter; font-family: Verdana, Geneva, Tahoma, sans-serif;\\\" >Ingresa la siguiente Información</p>\\r\\n      <hr style=\\\"background-color: white;\\\">\\r\\n    </ion-col>\\r\\n  </ion-row> \\r\\n\\r\\n  <ion-label *ngIf=\\\"descuento == 0\\\"   style=\\\"color:yellow; font-size: 16px; font-weight: bold; padding: 62px;\\\"> !OJO¡<span style=\\\"color: white;\\\"> NO APLICA DESCUENTO</span></ion-label>\\r\\n  \\r\\n  <ion-row class=\\\"ion-align-items-center\\\" *ngIf=\\\"descuento == 0\\\"> \\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <hr style=\\\"background-color: white;\\\">\\r\\n    </ion-col>\\r\\n  </ion-row> \\r\\n  \\r\\n  <ion-item class=\\\"itemcolor1\\\">\\r\\n    <ion-input [(ngModel)]=\\\"amount\\\" placeholder=\\\"Precio. Sin punto(.) ni coma(,)\\\" (ngModelChange)=\\\"tocurrency($event)\\\"></ion-input>\\r\\n    <p  style=\\\"color: yellow; font-weight: bold;\\\">{{currency | currency:'USD':'symbol':'1.0-0'}}</p>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item *ngIf=\\\"descuento == 1\\\" class=\\\"itemcolor1\\\">\\r\\n    <ion-input  [(ngModel)]=\\\"finalamount\\\" (ngModelChange)=\\\"tocurrency2($event)\\\"  placeholder=\\\"Último Precio ó Descuento\\\"></ion-input>\\r\\n    <p  style=\\\"color: yellow; font-weight: bold;\\\">{{currency2 | currency:'USD':'symbol':'1.0-0'}}</p>\\r\\n  </ion-item>\\r\\n  <ion-item class=\\\"itemcolor1\\\">\\r\\n    <ion-textarea [(ngModel)]=\\\"note\\\" maxlength=\\\"800\\\" (ngModelChange)=\\\"get($event)\\\" rows=\\\"6\\\" cols=\\\"20\\\" placeholder=\\\"¿Alguna Observación o Sugerencia?\\\"></ion-textarea>\\r\\n  </ion-item>\\r\\n  <ion-item class=\\\"itemcolor1\\\" *ngIf=\\\"note != '' && note !=null\\\" >\\r\\n    <p>{{leng}}</p><p>/800</p>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item class=\\\"itemcolor1\\\">\\r\\n    <ion-label position=\\\"floating\\\">Tiempo De Entrega</ion-label>\\r\\n    <ion-input  [(ngModel)]=\\\"delivery\\\" placeholder=\\\"Entrega Inmediata\\\" ></ion-input>\\r\\n  </ion-item>\\r\\n\\r\\n  \\r\\n  <ion-item class=\\\"itemcolor1\\\"  button (click)=\\\"pickfile()\\\">\\r\\n    <ion-label>Adjuntar PDF o Foto</ion-label>\\r\\n    <ion-icon slot=\\\"end\\\" class=\\\"itemcolor1\\\" name=\\\"document-attach-outline\\\"></ion-icon>\\r\\n  </ion-item>\\r\\n  <ion-item  *ngIf=\\\"fileUrl!=''\\\" >\\r\\n    <ion-img [src]=\\\"fileUrl\\\"></ion-img>\\r\\n    <ion-button (click)=\\\"clearimg()\\\" color=\\\"danger\\\" ><ion-icon slot=\\\"icon-only\\\" name=\\\"trash-bin-outline\\\"></ion-icon></ion-button>\\r\\n  </ion-item>\\r\\n \\r\\n  <ion-progress-bar *ngIf=\\\"working\\\" color=\\\"secondary\\\" type=\\\"indeterminate\\\"></ion-progress-bar>\\r\\n  <ion-grid>\\r\\n    <ion-row class=\\\"ion-align-items-center\\\">\\r\\n  <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n    <ion-button *ngIf=\\\"responseId!=null\\\"  [disabled]=\\\"working\\\" shape=\\\"round\\\" color=\\\"secondary\\\" (click)=\\\"send()\\\" ><ion-icon slot=\\\"start\\\" name=\\\"send\\\"></ion-icon>Actualizar y Responder</ion-button>\\r\\n    <ion-button *ngIf=\\\"responseId==null\\\" [disabled]=\\\"working\\\" shape=\\\"round\\\" color=\\\"secondary\\\" (click)=\\\"send()\\\" ><ion-icon slot=\\\"start\\\" name=\\\"send\\\"></ion-icon>Responder</ion-button>\\r\\n  </ion-col>\\r\\n</ion-row>\\r\\n</ion-grid>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ResponsePage } from './response.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ResponsePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ResponsePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ResponsePageRoutingModule } from './response-routing.module';\r\n\r\nimport { ResponsePage } from './response.page';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ResponsePageRoutingModule\r\n  ],\r\n  declarations: [ResponsePage]\r\n})\r\nexport class ResponsePageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Jlc3BvbnNlL3Jlc3BvbnNlLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../services/api.service';\r\nimport { BusyService } from '../../services/busy.service';\r\nimport { HttpEventType,HttpResponse} from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { environment } from '../../../environments/environment';\r\nimport { alertController } from '@ionic/core';\r\nimport { AlertController, IonButtons } from '@ionic/angular';\r\nimport { async } from '@angular/core/testing';\r\nimport { present } from '@ionic/core/dist/types/utils/overlays';\r\nimport { Button } from 'selenium-webdriver';\r\nimport { ok } from 'assert';\r\n\r\n@Component({\r\n  selector: 'app-response',\r\n  templateUrl: './response.page.html',\r\n  styleUrls: ['./response.page.scss'],\r\n})\r\nexport class ResponsePage implements OnInit {\r\n  items:any=[];\r\n  amount:string=null;\r\n  finalamount:string=null;\r\n  file:File=null;\r\n  note:string=null;\r\n  solicitudeId:string=null;\r\n  userId:string=null;\r\n  working:boolean=false;\r\n  delivery:string=\"\";\r\n  fileUrl:string='';\r\n  leng:number=0;\r\n  currency:string='';\r\n  currency2:string='';\r\n  apifile:string='';\r\n  responseId:any=null;\r\n  descuento:string='';\r\n  constructor( public apiService:ApiService,public busyService:BusyService,public router:Router) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n\r\n    \r\n    this.solicitudeId= window.localStorage.getItem('solicitudeId');\r\n    this.responseId= window.localStorage.getItem(\"responseId\");\r\n    if(window.localStorage.getItem(\"responseId\")!=null)\r\n    {\r\n     this.getdata();\r\n    }\r\n    else\r\n    {\r\n      this.amount=null;\r\n      this.finalamount=null;\r\n      this.file=null;\r\n      this.note=null;\r\n      this.delivery=\"\";\r\n      this.fileUrl=\"\";\r\n      this.currency= null;\r\n      this.currency2= null;\r\n      this.descuento = window.localStorage.getItem('Incluir_Descuento');\r\n    }\r\n\r\n    if(this.descuento == \"0\") {\r\n      this.busyService.presentAlert(\"¡Información!\",\"!OJO¡ NO APLICA DESCUENTO.\");\r\n    }\r\n    \r\n   }\r\n   detailsolicitude(){\r\n    this.router.navigate(['/solicitude-detail']);\r\n   }\r\n   getdata(){\r\n     this.apifile=environment.fileurl + \"responsefiles/\";\r\n      this.working=true;\r\n      this.apiService.Get(\"Responses/\"+ window.localStorage.getItem(\"responseId\")).then(res=>{\r\n      this.working=false;\r\n      if( res.fileUrl!=null &&  res.fileUrl!='')\r\n      {\r\n        this.fileUrl = this.apifile +  res.fileUrl;\r\n      }\r\n      this.amount=res.amount;\r\n      this.finalamount=res.finalAmount;\r\n      if(res.note==null || res.note =='null')\r\n      {\r\n        this.note='';\r\n      }\r\n      else\r\n      {\r\n        this.note=res.note;\r\n      }\r\n      this.delivery=res.delivery;\r\n      this.currency= this.amount;\r\n      this.currency2= this.finalamount;\r\n    },err=>{\r\n      this.working=false;\r\n    });\r\n   }\r\ntocurrency()\r\n{\r\n  this.currency= this.amount; \r\n}\r\ntocurrency2()\r\n{\r\n  this.currency2= this.finalamount;\r\n}\r\nget(event)\r\n{\r\n  this.leng=event.length;\r\n}\r\n\r\n async send(){\r\n  if(this.amount==null)\r\n  {\r\n    await this.busyService.presentAlert(\"¡Información!\",\"El campo Precio del Producto ó Servicio es Requerido.\");\r\n   return;\r\n  }\r\n  if(this.finalamount==null)\r\n  {\r\n    this.finalamount=this.amount;\r\n  }\r\n  if(parseInt( this.finalamount)>parseInt( this.amount))\r\n  {\r\n    await this.busyService.presentAlert(\"¡Información!\",\"El campo Último Precio o Descuento debe ser menor ó igual al Precio Original.\");\r\n   return;\r\n  }\r\n this.working=true;\r\n let userinfo= JSON.parse(window.localStorage.getItem(\"userinfo\"));\r\n  var responseIdx= window.localStorage.getItem('responseId') == null ? \"-1\" :window.localStorage.getItem('responseId');\r\n var formData= new FormData();\r\n formData.append('upload', this.file);\r\n formData.append(\"userId\",userinfo.id);\r\n formData.append(\"solicitudeId\",this.solicitudeId);\r\n formData.append(\"note\",this.note);\r\n formData.append(\"finalamount\",this.finalamount); \r\n formData.append(\"amount\",this.amount);\r\n formData.append(\"delivery\",this.delivery);\r\n formData.append(\"responseId\",responseIdx);\r\n this.apiService.upload(\"Responses/Upload\",formData).subscribe(\r\n  event => {\r\n    if (event.type == HttpEventType.UploadProgress) {\r\n      const percentDone = Math.round(100 * event.loaded / event.total);\r\n    } else if (event instanceof HttpResponse) {\r\n      if(event.body.ok){\r\n        this.working=false;\r\n        this.busyService.presentAlert(\"¡Información!\",\"Respuesta Enviada\");\r\n        this.router.navigate(['/companysol']);\r\n      }else{\r\n        this.working=false;\r\n        this.busyService.presentAlert(\"¡Información!\",\"Respuesta no Enviada\");\r\n      }\r\n    }\r\n  },\r\n  (err) => {\r\n    this.working=false;\r\n    this.busyService.presentAlert(\"¡Información!\",\"Error al enviar Respuesta\");\r\n  }, () => {\r\n  }\r\n);\r\n}\r\npickfile(){\r\n  let input = document.createElement('input');\r\n  input.type = 'file';\r\n  input.onchange = (event:any) => { \r\n  if (event.target.files.length == 0) {\r\n   this.busyService.presentAlert(\"¡Información!\",\"No se ha seleccionado una imágen\");\r\n   return\r\n\r\n }\r\n this.file = event.target.files[0];\r\n this.loadimg(\"#image\",this.file);\r\n};\r\ninput.click();\r\n}\r\nloadimg(idimg,file){\r\n  // setting up the reader\r\n  var reader = new FileReader();\r\n  reader.readAsDataURL(file); // this is reading as data url\r\n\r\n  // here we tell the reader what to do when it's done reading...\r\n  reader.onload = (event: any) => {\r\n    var content = event.target.result; // this is the content!\r\n    this.fileUrl =  content ;\r\n  }\r\n\r\n}\r\nclearimg(){\r\nthis.fileUrl='';\r\nthis.file=null;\r\n}\r\n\r\nasync alert(){\r\n  await this.busyService.presentAlert(\"¡Información!\",\"OJO ESTE PRODUCTO O SERVICIO NO OFRECE DESCUENTO.\");\r\n}\r\n}\r\n\r\n\r\n\r\n"],"sourceRoot":"webpack:///"}