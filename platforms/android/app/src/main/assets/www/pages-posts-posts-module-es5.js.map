{"version":3,"sources":["webpack:///src/app/pages/posts/posts.page.html","webpack:///src/app/pages/posts/posts-routing.module.ts","webpack:///src/app/pages/posts/posts.module.ts","webpack:///src/app/pages/posts/posts.page.scss","webpack:///src/app/pages/posts/posts.page.ts"],"names":["routes","path","component","PostsPageRoutingModule","imports","forChild","exports","PostsPageModule","declarations","PostsPage","apiService","router","busyService","working","items","selecctedItems","activities","userinfo","JSON","parse","window","localStorage","getItem","Get","id","then","res","forEach","element","img1","fileurl","err","item","removeItem","setItem","type","navigate","exits","filter","s","length","push","myDiv","document","getElementById","classList","add","obj","remove","presentAlertYesNo","yes","Post","presentAlert","selector","template"],"mappings":"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","file":"pages-posts-posts-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\" >\\r\\n  <ion-toolbar color=\\\"secondary\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-toggle menu=\\\"pages\\\">\\r\\n        <ion-button >\\r\\n          <ion-icon name=\\\"menu-outline\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-menu-toggle>\\r\\n    </ion-buttons>\\r\\n    <ion-title>\\r\\n     Publicaciones\\r\\n    </ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" >\\r\\n      <ion-button (click)=\\\"delete()\\\" *ngIf=\\\"selecctedItems.length > 0\\\">\\r\\n        <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\r\\n        <ion-badge color=\\\"secondary\\\">{{selecctedItems.length}}</ion-badge>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"backgeneral\\\">\\r\\n  <ion-progress-bar *ngIf=\\\"working\\\" color=\\\"secondary\\\" type=\\\"indeterminate\\\"></ion-progress-bar>\\r\\n    <ion-list>\\r\\n      <ion-item button *ngFor=\\\"let item of items\\\" id=\\\"{{item.id}}\\\" ion-long-press [interval]=\\\"200\\\" (pressed)=\\\"pressed(item)\\\" (click)=\\\"click(item)\\\">\\r\\n        <ion-thumbnail slot=\\\"start\\\" *ngIf=\\\"item.img1 != null\\\">\\r\\n          <img  [src]=\\\"item.img1\\\"  >\\r\\n        </ion-thumbnail>\\r\\n        <ion-thumbnail slot=\\\"start\\\" *ngIf=\\\"item.img1 == null\\\">\\r\\n          <img  [src]=\\\"'/assets/images/empty.png'\\\"  >\\r\\n        </ion-thumbnail>\\r\\n        <ion-label>\\r\\n          <ion-text> <h3 style=\\\"font-weight: bold; text-transform: capitalize;color:white\\\">{{item.creationDate | timeAgo}}</h3></ion-text>\\r\\n          <p  style=\\\"color: yellow;\\\">{{item.description}}</p>\\r\\n          <p *ngIf=\\\"item.price!=null\\\" style=\\\"font-weight: bold;color: #0ae70a\\\" >{{item.price | currency:'USD':'symbol':'1.0-0'}}</p> \\r\\n        </ion-label>\\r\\n        <ion-icon slot=\\\"end\\\" style=\\\"color:white\\\" name=\\\"chevron-forward\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PostsPage } from './posts.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PostsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PostsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PostsPageRoutingModule } from './posts-routing.module';\r\n\r\nimport { PostsPage } from './posts.page';\r\n\r\nimport { TimeAgoPipe } from '../../time-ago.pipe';\r\nimport { LongPressModule } from 'ionic-long-press';\r\n@NgModule({\r\n  imports: [\r\n    LongPressModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PostsPageRoutingModule\r\n  ],\r\n  declarations: [PostsPage,TimeAgoPipe]\r\n})\r\nexport class PostsPageModule {}\r\n","export default \".item-background-color {\\n  --ion-item-background:rgba(0,0,0,0.5);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcG9zdHMvQzpcXFVzZXJzXFxJdmFuY2hvXFxEb2N1bWVudHNcXFBSWV9RUFJJQ0VcXFFQUklDRS9zcmNcXGFwcFxccGFnZXNcXHBvc3RzXFxwb3N0cy5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3Bvc3RzL3Bvc3RzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFDQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wb3N0cy9wb3N0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaXRlbS1iYWNrZ3JvdW5kLWNvbG9ye1xyXG4gICAgLS1pb24taXRlbS1iYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC41KTtcclxufSIsIi5pdGVtLWJhY2tncm91bmQtY29sb3Ige1xuICAtLWlvbi1pdGVtLWJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjUpO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../services/api.service';\r\nimport { Router } from '@angular/router';\r\nimport { BusyService } from '../../services/busy.service';\r\nimport { environment } from '../../../environments/environment';\r\n@Component({\r\n  selector: 'app-posts',\r\n  templateUrl: './posts.page.html',\r\n  styleUrls: ['./posts.page.scss'],\r\n})\r\nexport class PostsPage implements OnInit {\r\n\r\n  constructor(public apiService:ApiService,public router:Router,public busyService:BusyService) { }\r\n  working:boolean=false;\r\n  items=[];\r\n  selecctedItems=[];\r\n  ngOnInit() {\r\n  }\r\n  ionViewWillEnter(){\r\n    this.activities();\r\n   }\r\n\r\n   activities(){\r\n    this.working=true;\r\n    let userinfo= JSON.parse(window.localStorage.getItem(\"userinfo\"));\r\n    this.apiService.Get(\"Posts/PostsByUser/\"+ userinfo.id ).then(async res=>{\r\n      this.working=false;\r\n      this.items=res;\r\n      this.items.forEach(element => {\r\n        if(element.img1!=null)\r\n        {\r\n          element.img1=environment.fileurl + \"postimages/\" +element.img1 ;\r\n        }\r\n      });\r\n\r\n    },err=>{\r\n      this.working=false;\r\n    });\r\n   }\r\n   details(item)\r\n   {    \r\n     localStorage.removeItem(\"postid\");\r\n     localStorage.setItem(\"postid\",item.id);\r\n      if(item.type=='A')\r\n      {\r\n        this.router.navigate(['/activityadd']);\r\n      }else if (item.type=='C')\r\n      {\r\n        this.router.navigate(['/classifiedadd']);\r\n      }else{\r\n        this.router.navigate(['/favoradd']);\r\n      }\r\n   } \r\n\r\n   pressed(item){\r\n    var exits= this.selecctedItems.filter(s=> s.id== item.id)\r\n    if(exits.length ==0){\r\n      this.selecctedItems.push(item);\r\n      var myDiv = document.getElementById(item.id);\r\n      myDiv.classList.add(\"item-background-color\");\r\n    }\r\n  }\r\n\r\n  cancel(){\r\n    this.selecctedItems.forEach(obj=> \r\n    {\r\n      var myDiv = document.getElementById(obj.id);\r\n      myDiv.classList.remove(\"item-background-color\");\r\n    });\r\n    this.selecctedItems=[];\r\n  }\r\n\r\n  async delete(){\r\n    var yes=await this.busyService.presentAlertYesNo(\"¡Información!\",\"¿Desea eliminar los ítems seleccionados?\");\r\n    if(yes)\r\n    {\r\n      this.working=true;\r\n      this.apiService.Post(this.selecctedItems,\"Posts/DeleteList\").then(res=>{\r\n      this.working=true;\r\n      this.selecctedItems=[];\r\n      this.activities();\r\n    },err=>{\r\n      this.working=false;\r\n      this.busyService.presentAlert(\"¡Informe!\",\"Algo salió mal, intente de nuevo\");\r\n    });\r\n  }\r\n  }\r\n\r\n  click(item){\r\n    if(this.selecctedItems.length == 0){\r\n      localStorage.removeItem(\"postid\");\r\n      localStorage.setItem(\"postid\",item.id);\r\n       if(item.type=='A')\r\n       {\r\n         this.router.navigate(['/activityadd']);\r\n       }else if (item.type=='C')\r\n       {\r\n         this.router.navigate(['/classifiedadd']);\r\n       }else{\r\n         this.router.navigate(['/favoradd']);\r\n       }\r\n    }else{\r\n      var exits= this.selecctedItems.filter(s=> s.id== item.id)\r\n      if(exits.length ==0){\r\n        this.selecctedItems.push(item);\r\n        var myDiv = document.getElementById(item.id);\r\n        myDiv.classList.add(\"item-background-color\");\r\n      }else{\r\n        this.selecctedItems=this.selecctedItems.filter(s=> s.id!= item.id);\r\n        var myDiv = document.getElementById(item.id);\r\n        myDiv.classList.remove(\"item-background-color\");\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}