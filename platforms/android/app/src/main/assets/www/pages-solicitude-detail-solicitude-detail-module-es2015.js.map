{"version":3,"sources":["./src/app/pages/solicitude-detail/solicitude-detail.page.html","./src/app/pages/solicitude-detail/solicitude-detail-routing.module.ts","./src/app/pages/solicitude-detail/solicitude-detail.module.ts","./src/app/pages/solicitude-detail/solicitude-detail.page.scss","./src/app/pages/solicitude-detail/solicitude-detail.page.ts"],"names":[],"mappings":"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","file":"pages-solicitude-detail-solicitude-detail-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"secondary\\\" >\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"ion-text-center\\\">\\r\\n      <p style=\\\"color: white; font-size: 16px; font-weight: bold;\\\" >DETALLE SOLICITUD</p>\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"backgeneral\\\">\\r\\n  <ion-progress-bar *ngIf=\\\"working\\\" color=\\\"secondary\\\" type=\\\"indeterminate\\\"></ion-progress-bar>\\r\\n  <ion-item class=\\\"itemcolor1\\\">\\r\\n    <ion-label>Categoría:</ion-label>\\r\\n    <p style=\\\"color:yellow\\\">{{item?.category.name}}</p>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item >\\r\\n    <ion-label style=\\\"color: white;\\\">Alguien Solicita:</ion-label>\\r\\n    <p style=\\\"color:yellow\\\">{{item?.mostrar_nombre}}</p>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item *ngIf=\\\"role!='Company'\\\">\\r\\n    <label style=\\\"color:white;font-weight: bold;\\\">Estás Buscando:</label>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-textarea  style=\\\"text-align:justify\\\" readonly rows=\\\"2\\\" cols=\\\"20\\\">{{item?.note}}</ion-textarea>\\r\\n    <ion-row class=\\\"ion-align-items-center\\\">\\r\\n      <ion-col size=\\\"12\\\">\\r\\n        <hr style=\\\"background-color: white;\\\">\\r\\n      </ion-col>\\r\\n    </ion-row>   \\r\\n  </ion-item>\\r\\n  \\r\\n  \\r\\n  <ion-row *ngIf=\\\"responId==0 && role=='Company'\\\" class=\\\"ion-align-items-center\\\" > \\r\\n    <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n      <hr style=\\\"background-color: white;\\\">         \\r\\n      <ion-label style=\\\"color:cyan; font-size: 15px; font-weight: bold;  \\\">¿TIENES ESTE PRODUCTO Ó SERVICIO?</ion-label>\\r\\n    </ion-col>\\r\\n  </ion-row>      \\r\\n    \\r\\n    <ion-row *ngIf=\\\"responId==0 && role=='Company'\\\" class=\\\"ion-align-items-center\\\" > \\r\\n      <ion-col size=\\\"12\\\">\\r\\n        <hr style=\\\"background-color: white;\\\">\\r\\n      </ion-col>\\r\\n    </ion-row>   \\r\\n\\r\\n    <ion-item  *ngIf=\\\"item?.fileUrl!=null && item?.fileUrl!=''\\\" >\\r\\n      <img *ngIf=\\\"ispdf==false\\\"   src=\\\"{{item?.fileUrl}}\\\" (click)=\\\"photoview(item?.fileUrl)\\\" style=\\\"width:100%;height: 200px;\\\">  \\r\\n       <a *ngIf=\\\"ispdf==true\\\" href=\\\"{{item?.fileUrl}}\\\" target=\\\"blank\\\" ><img src=\\\"./../../.././assets/pdf.png\\\" style=\\\"width:100%;height:50px;\\\">  </a>\\r\\n    </ion-item>\\r\\n    \\r\\n  <ion-grid *ngIf=\\\"role=='Company'  && responId==0\\\">\\r\\n    <ion-row class=\\\"ion-align-items-center\\\">\\r\\n  <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n    <ion-button shape=\\\"round\\\" color=\\\"secondary\\\" (click)=\\\"response()\\\" style=\\\"position: absolute; right: 55%;\\\"><ion-icon slot=\\\"start\\\" name=\\\"checkmark-circle\\\"></ion-icon>SI</ion-button>\\r\\n  </ion-col>\\r\\n</ion-row>\\r\\n</ion-grid>\\r\\n<ion-grid *ngIf=\\\"role=='Company'  && responId==0\\\">\\r\\n  <ion-row class=\\\"ion-align-items-center\\\">\\r\\n<ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n  <ion-button shape=\\\"round\\\" color=\\\"danger\\\" (click)=\\\"rtaNo()\\\" style=\\\"position: absolute; bottom: -18px; right: 25%;\\\"><ion-icon slot=\\\"start\\\" name=\\\"close-circle\\\"></ion-icon>NO</ion-button>\\r\\n</ion-col>\\r\\n</ion-row>\\r\\n</ion-grid>\\r\\n<ion-grid *ngIf=\\\"role=='Company' && responId!=0\\\">\\r\\n  <ion-row class=\\\"ion-align-items-center\\\">\\r\\n<ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n  <ion-button shape=\\\"round\\\" color=\\\"secondary\\\" (click)=\\\"response()\\\" ><ion-icon slot=\\\"start\\\" name=\\\"send\\\"></ion-icon>Ver Respuesta</ion-button>\\r\\n</ion-col>\\r\\n</ion-row>\\r\\n</ion-grid>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SolicitudeDetailPage } from './solicitude-detail.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SolicitudeDetailPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SolicitudeDetailPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SolicitudeDetailPageRoutingModule } from './solicitude-detail-routing.module';\r\n\r\nimport { SolicitudeDetailPage } from './solicitude-detail.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SolicitudeDetailPageRoutingModule\r\n  ],\r\n  declarations: [SolicitudeDetailPage]\r\n})\r\nexport class SolicitudeDetailPageModule {}\r\n","export default \"ion-label {\\n  font-weight: bold !important;\\n}\\n\\nion-item {\\n  margin-top: 3px !important;\\n  margin-bottom: 3px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc29saWNpdHVkZS1kZXRhaWwvQzpcXFVzZXJzXFxJdmFuY2hvXFxEb2N1bWVudHNcXFBSWV9RUFJJQ0VcXFFQUklDRS9zcmNcXGFwcFxccGFnZXNcXHNvbGljaXR1ZGUtZGV0YWlsXFxzb2xpY2l0dWRlLWRldGFpbC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3NvbGljaXR1ZGUtZGV0YWlsL3NvbGljaXR1ZGUtZGV0YWlsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDRCQUFBO0FDQ0o7O0FEQ0E7RUFDSSwwQkFBQTtFQUNBLDZCQUFBO0FDRUoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zb2xpY2l0dWRlLWRldGFpbC9zb2xpY2l0dWRlLWRldGFpbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tbGFiZWx7XHJcbiAgICBmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50O1xyXG59XHJcbmlvbi1pdGVte1xyXG4gICAgbWFyZ2luLXRvcDogM3B4ICFpbXBvcnRhbnQ7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzcHggIWltcG9ydGFudDtcclxufSIsImlvbi1sYWJlbCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1pdGVtIHtcbiAgbWFyZ2luLXRvcDogM3B4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1ib3R0b206IDNweCAhaW1wb3J0YW50O1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../services/api.service';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Router } from '@angular/router';\r\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\r\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\n@Component({\r\n  selector: 'app-solicitude-detail',\r\n  templateUrl: './solicitude-detail.page.html',\r\n  styleUrls: ['./solicitude-detail.page.scss'],\r\n}) \r\nexport class SolicitudeDetailPage implements OnInit {\r\nitem:any=null;\r\napifile:string='';\r\nworking:boolean=false;\r\nuserid:any=null;\r\nrole:any=null;\r\nresponId:number=0;\r\nispdf:boolean=false;\r\ndisponibilidad:any=null;\r\n  constructor(private photoViewer: PhotoViewer,public apiService:ApiService,public router:Router) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  photoview(url:string){\r\n    this.photoViewer.show(url);\r\n  }\r\n  ionViewWillEnter(){    \r\n    this.responId=0;\r\n    this.item=null;\r\n    let userinfo= JSON.parse(window.localStorage.getItem(\"userinfo\"));\r\n    this.userid=userinfo.id;\r\n    this.role=userinfo.role;\r\n    this.apifile=environment.fileurl + \"solicitudefiles/\";\r\n    this.working=true;\r\n    this.apiService.Get(\"Solicitudes/\"+ window.localStorage.getItem(\"solicitudeId\")).then(res=>{\r\n    this.working=false;\r\n    \r\n    window.localStorage.setItem('Incluir_Descuento',  res.descuento);    \r\n    if( res.fileUrl!=null &&  res.fileUrl!='')\r\n    {\r\n    res.fileUrl= this.apifile +  res.fileUrl;\r\n    var ext= res.fileUrl.split('/')[4];\r\n    ext= ext.split('.')[1];\r\n     if(ext==\"pdf\" || ext==\"PDF\")\r\n     {\r\n        this.ispdf=true;\r\n     }else{\r\n      this.ispdf=false;\r\n     }\r\n    }\r\n   this.item=res;\r\n   this.apiService.Get(\"Solicitudes/Solicitude_view/\"+ this.item.id+ \"/\"+ this.userid);\r\n    var filter= res.responses.filter(s=> s.company.userId== userinfo.id);\r\n    if(filter.length > 0)\r\n    {\r\n      this.responId=filter[0].id;      \r\n    }\r\n  },err=>{\r\n    this.working=false;\r\n  })\r\n  }\r\n  response(){\r\n    if(this.responId!=0)\r\n    {\r\n      window.localStorage.removeItem('solicitudeId');\r\n      window.localStorage.setItem('solicitudeId',this.item.id);\r\n      window.localStorage.removeItem('responseId');\r\n      window.localStorage.setItem('responseId',  this.responId.toString());\r\n      this.router.navigate(['/response-detail']);\r\n    }\r\n    else\r\n    {\r\n      window.localStorage.removeItem('responseId');\r\n      window.localStorage.removeItem('solicitudeId');\r\n      window.localStorage.setItem('solicitudeId',this.item.id);\r\n      this.router.navigate(['/response']);\r\n    }\r\n  }\r\n\r\n  rtaNo()\r\n  {\r\n      this.router.navigate(['/companysol']);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}