{"version":3,"sources":["./src/app/pages/company/company.page.html","./src/app/pages/company/company-routing.module.ts","./src/app/pages/company/company.module.ts","./src/app/pages/company/company.page.scss","./src/app/pages/company/company.page.ts"],"names":[],"mappings":"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","file":"pages-company-company-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-center\\\">      \\n      <p style=\\\"color: white; font-size: 16px; font-weight: bold;\\\" >CREAR CUENTA - EMPRESA</p>\\n    </ion-title>    \\n  </ion-toolbar>\\n</ion-header>\\n<ion-content  id=\\\"signup\\\" fullscreen class=\\\"backgeneral\\\" >\\n  <div class=\\\"section_two ion-padding\\\">   \\n  <ion-row class=\\\"ion-align-items-center\\\">\\n    <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n      <p style=\\\"color: yellow; font-size: 12px; font-weight: lighter;\\\" >Ingresa la siguiente Información</p>\\n    </ion-col>\\n  </ion-row>   \\n  <ion-row class=\\\"ion-align-items-center\\\">\\n    <ion-col size=\\\"12\\\">\\n      <hr style=\\\"background-color: white;\\\">\\n    </ion-col>\\n  </ion-row>  \\n  <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"tryRegister(form.value)\\\">\\n    <input type=\\\"hidden\\\" formControlName=\\\"lat\\\">\\n    <input type=\\\"hidden\\\" formControlName=\\\"lng\\\">\\n    <ion-progress-bar *ngIf=\\\"working\\\" color=\\\"secondary\\\" type=\\\"indeterminate\\\"></ion-progress-bar>\\n          <ion-item class=\\\"itemcolor1\\\">\\n            <ion-select multiple=\\\"true\\\" formControlName=\\\"name\\\"  placeholder=\\\"Selecciona la(s) Categoría(s)\\\" cancelText=\\\"Cancelar\\\" okText=\\\"Aceptar\\\"  [formControl]=\\\"form.controls.categoriesid\\\" >\\n              <ion-select-option  *ngFor=\\\"let item of items\\\" [value]=\\\"item.id\\\">{{item.name}}</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n          <ion-auto-complete  formControlName=\\\"provinceName\\\"   (itemSelected)=\\\"selectedItem($event)\\\" (ionClear)=\\\"itemRemoved($event)\\\" [dataProvider]=\\\"autoprovinceService\\\" [options]=\\\"{ placeholder : 'Escribe la Ciudad ó Pueblo' }\\\"></ion-auto-complete>\\n          <ion-item class=\\\"itemcolor1\\\">\\n            <ion-input formControlName=\\\"name\\\" type=\\\"text\\\" placeholder=\\\"Nombre de Empresa, Negocio o Servicio\\\"  required></ion-input>\\n          </ion-item>\\n\\n          <ion-item class=\\\"itemcolor1\\\">\\n            <ion-input formControlName=\\\"phone\\\"  type=\\\"text\\\" placeholder=\\\"Número de Celular\\\"  required></ion-input>\\n          </ion-item>\\n\\n          <ion-item class=\\\"itemcolor1\\\">\\n            <ion-input formControlName=\\\"ubication\\\" (click)=\\\"focus()\\\" readonly=\\\"readonly\\\"  type=\\\"text\\\" placeholder=\\\"Elegir Ubicación\\\"  required></ion-input>            \\n          </ion-item>  \\n\\n            <ion-item class=\\\"itemcolor1\\\">\\n             <ion-label>¿Cuenta con Domicilio?</ion-label>\\n              <ion-toggle   formControlName=\\\"hasDelivery\\\" ></ion-toggle>\\n            </ion-item> \\n\\n            <ion-item class=\\\"itemcolor1\\\">\\n              <ion-input formControlName=\\\"email\\\" type=\\\"text\\\" placeholder=\\\"Correo Electrónico\\\"  required></ion-input>\\n            </ion-item>\\n            <ion-item class=\\\"itemcolor1\\\">\\n              <ion-input formControlName=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"Clave - Mínimo 6 caracteres\\\"  required></ion-input>\\n            </ion-item>\\n\\n            <ion-item class=\\\"itemcolor1\\\">\\n              <ion-input formControlName=\\\"confirm\\\" type=\\\"password\\\" placeholder=\\\"Confirmar Clave\\\"  required></ion-input>\\n            </ion-item>  \\n\\n          <div class=\\\"buttons ion-padding-top\\\">\\n            <ion-button expand=\\\"block\\\" color=\\\"secondary\\\"  shape=\\\"round\\\" type=\\\"submit\\\" [disabled]=\\\"form.invalid\\\" >Guardar Información</ion-button>\\n          </div>\\n  </form>\\n</div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CompanyPage } from './company.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CompanyPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CompanyPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CompanyPageRoutingModule } from './company-routing.module';\n\nimport { CompanyPage } from './company.page';\nimport { AutoCompleteModule } from 'ionic4-auto-complete';\n@NgModule({\n  imports: [\n    AutoCompleteModule,\n    ReactiveFormsModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CompanyPageRoutingModule\n  ],\n  declarations: [CompanyPage]\n})\nexport class CompanyPageModule {}\n","export default \"ion-select {\\n  --placeholder-opacity: 1 !important;\\n  max-width: 100% !important;\\n  width: 100% !important;\\n  padding-left: 0 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY29tcGFueS9DOlxcVXNlcnNcXEl2YW5jaG9cXHNvdXJjZVxccmVwb3NcXENvdGl6YVZlbmRGcm9udC9zcmNcXGFwcFxccGFnZXNcXGNvbXBhbnlcXGNvbXBhbnkucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9jb21wYW55L2NvbXBhbnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksbUNBQUE7RUFDQSwwQkFBQTtFQUNBLHNCQUFBO0VBQ0EsMEJBQUE7QUNBSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NvbXBhbnkvY29tcGFueS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tc2VsZWN0IHtcclxuXHJcbiAgICAtLXBsYWNlaG9sZGVyLW9wYWNpdHk6IDEgIWltcG9ydGFudDtcclxuICAgIG1heC13aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmctbGVmdDogMCAhaW1wb3J0YW50O1xyXG4gICAgIH1cclxuICAgICAiLCJpb24tc2VsZWN0IHtcbiAgLS1wbGFjZWhvbGRlci1vcGFjaXR5OiAxICFpbXBvcnRhbnQ7XG4gIG1heC13aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLWxlZnQ6IDAgIWltcG9ydGFudDtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../../services/api.service';\nimport { Router} from '@angular/router';\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\nimport { BusyService } from '../../services/busy.service';\nimport { MapComponent } from '../../components/map/map.component';\nimport { ModalController } from '@ionic/angular';\nimport { AutoprovinceService } from '../../services/autoprovince.service';\n@Component({\n  selector: 'app-company',\n  templateUrl: './company.page.html',\n  styleUrls: ['./company.page.scss'],\n})\nexport class CompanyPage implements OnInit {\n\n \n  errorMessage: string = '';\n  successMessage: string = '';\n  form : FormGroup;\n  working:boolean=false;\n  items:any=[];\n  provinceId:number=0;\n  provinceName:string=\"\";\n  constructor(public autoprovinceService:AutoprovinceService, public modalController: ModalController,private router:Router,private apiService:ApiService,\n    private formBuilder: FormBuilder,private busyService:BusyService) { \n      this.form = this.formBuilder.group({\n        email: ['' , \n        Validators.compose([\n          Validators.minLength(6),\n          Validators.required,Validators.pattern(\"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\")\n        ])      \n      ],\n        password: ['', Validators.compose([\n          Validators.minLength(6),\n          Validators.required\n        ])],\n        confirm: ['',[Validators.required]],\n        name: [''],\n        phone: [''],\n        ubication: [''],\n        provinceName: [''],\n        categoriesid: [[],[Validators.required]],\n        hasDelivery: new FormControl(false),\n        lat: [''],\n        lng: [''],\n      },);\n    }\n    async presentMap() {\n      const modal = await this.modalController.create({\n      component: MapComponent\n     });\n      modal.onDidDismiss().then(async(res)=>{\n         if(res.data){\n          this.form.get(\"ubication\").setValue(res.data.dir);\n          this.form.get(\"lat\").setValue(res.data.lat);\n          this.form.get(\"lng\").setValue(res.data.lng);\n         }\n       });\n     return await modal.present();\n     }\n  ngOnInit() {\n  \n  }\n  selectedItem(value){\n    this.provinceId=value.id;\n   }\n  itemRemoved(event)\n  {\n  this.provinceId=0;\n  }\n  ionViewWillEnter(){\n    this.working=true;\n    this.apiService.Get(\"Categories\").then(res=>{\n      this.items=res;\n      this.working=false;\n    },err=>{\n      this.working=false;\n    });\n  }\n  async focus(){\n    let res= await  this.busyService.AceptInfo(\"¡Información!\",\"Recuerda activar la Ubicación\");\n    if(res)\n    {\n      await this.presentMap();\n    }\n  }\n  async tryRegister(form){\n   \n    if(form.confirm!=form.password)\n    {\n      await  this.busyService.presentAlert(\"¡Información!\",\"La clave y confirmar clave no son iguales\");\n      return;\n    } \n    this.working=true;\n    form.provinceId=this.provinceId;\n    this.apiService.Post(form,\"Companies\")\n     .then(res => {\n      this.working=false;\n       this.errorMessage = \"\";     \n        this.busyService.presentAlert(\"¡Información!\",\"Registro creado exitosamente\");\n       this.router.navigate(['/login']);\n     }, err => {\n      this.working=false;\n       this.errorMessage = err.message;\n         this.busyService.presentAlert(\"¡Información!\",\"No fue posible crear la cuenta\");\n     });\n  }\n}\n\n"],"sourceRoot":"webpack:///"}